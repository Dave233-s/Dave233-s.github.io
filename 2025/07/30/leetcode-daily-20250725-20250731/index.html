<!DOCTYPE html>
<html>
<head><!-- hexo injector head_begin start --><link href="/css/hexo-tag-common.css" rel="stylesheet"/><!-- hexo injector head_begin end -->
  <meta charset="utf-8">
  
  
  <title>Leetcode Daily 20250725-20250731 | Dave233</title>
  <link rel="stylesheet" href="/css/fonts/Chinese-normal-normal.min.css">
  <link rel="stylesheet" href="/css/fonts/ChineseMono-normal-normal.min.css">
  <link rel="stylesheet" href="/css/fonts/Chinese-italic-normal.min.css">
  <link rel="stylesheet" href="/css/fonts/Chinese-normal-bold.min.css">
  <link
    rel="stylesheet"
    href="https://unpkg.com/@waline/client@v3/dist/waline.css"
  />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <meta name="description" content="Leetcode 20250725-20250731每日一题的记录，使用Java解题">
  
  
    <link rel="alternate" href="/atom.xml" title="Dave233" type="application/atom+xml">
  
  
  <link rel="stylesheet" href="/css/style.css">
  
    <link rel="stylesheet" href="/fancybox/jquery.fancybox-1.3.4.css">
  

  
    <link rel="stylesheet" href="/katex/katex.min.css" integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">

    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="/katex/katex.min.js" integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous"></script>

    <!-- To automatically render math in text elements, include the auto-render extension: -->
    <script defer src="/katex/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"
        onload="renderMathInElement(document.body);"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          delimiters: [
            {left: '$$', right: '$$', display: true},
            {left: '$', right: '$', display: false},
            {left: '\\(', right: '\\)', display: false},
            {left: '\\[', right: '\\]', display: true}
          ],
          throwOnError : false
        });
      });
    </script>
  
<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <div id="nav-outer">
  <nav id="main-nav" class="outer">
    <a id="main-nav-toggle" class="nav-icon"></a>
    
      <a class="main-nav-link" href="/">Home</a>
    
      <a class="main-nav-link" href="/archives">Archives</a>
    
      <a class="main-nav-link" href="/newmenu">NewMenu</a>
    
      <a class="main-nav-link" href="/about">About</a>
    
    <div class="main-nav-space-between"></div>

    <a id="nav-search-btn" class="nav-icon" data-bs-toggle="modal" data-bs-target="#searchModal" title="搜索"></a>

    
      <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS 订阅"></a>
    
  </nav>
</div>
<div id="header-title">
  <h1 id="logo-wrap">
    <a href="/" id="logo">Dave233</a>
  </h1>
  
</div>

      <div id="content" class="outer">
        <section id="main"><article id="post-Leetcode-Daily-20250725-20250731" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/07/30/leetcode-daily-20250725-20250731/" class="article-date">
  <time class="dt-published" datetime="2025-07-30T11:23:17.000Z" itemprop="datePublished">2025-07-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Leetcode Daily 20250725-20250731
    </h1>
  

      </header>
    
    
<div id="article-toc">
    <h2 class="widget-title">目录</h2>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#3487-%E5%88%A0%E9%99%A4%E5%90%8E%E7%9A%84%E6%9C%80%E5%A4%A7%E5%AD%90%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E5%92%8C"><span class="toc-number">1.</span> <span class="toc-text">3487. 删除后的最大子数组元素和</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF"><span class="toc-number">1.1.</span> <span class="toc-text">思路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E5%BA%A6"><span class="toc-number">1.2.</span> <span class="toc-text">复杂度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-number">1.3.</span> <span class="toc-text">其他</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%98%E5%8C%96"><span class="toc-number">1.4.</span> <span class="toc-text">优化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81"><span class="toc-number">1.5.</span> <span class="toc-text">代码</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3480-%E5%88%A0%E9%99%A4%E4%B8%80%E4%B8%AA%E5%86%B2%E7%AA%81%E5%AF%B9%E5%90%8E%E6%9C%80%E5%A4%A7%E5%AD%90%E6%95%B0%E7%BB%84%E6%95%B0%E7%9B%AE"><span class="toc-number">2.</span> <span class="toc-text">3480. 删除一个冲突对后最大子数组数目</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#todo"><span class="toc-number">2.1.</span> <span class="toc-text">TODO</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2210-%E7%BB%9F%E8%AE%A1%E6%95%B0%E7%BB%84%E4%B8%AD%E5%B3%B0%E5%92%8C%E8%B0%B7%E7%9A%84%E6%95%B0%E9%87%8F"><span class="toc-number">3.</span> <span class="toc-text">2210. 统计数组中峰和谷的数量</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF-1"><span class="toc-number">3.1.</span> <span class="toc-text">思路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E5%BA%A6-1"><span class="toc-number">3.2.</span> <span class="toc-text">复杂度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%98%E5%8C%961"><span class="toc-number">3.3.</span> <span class="toc-text">优化1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%98%E5%8C%962"><span class="toc-number">3.4.</span> <span class="toc-text">优化2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-1"><span class="toc-number">3.5.</span> <span class="toc-text">代码</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2044-%E7%BB%9F%E8%AE%A1%E6%8C%89%E4%BD%8D%E6%88%96%E8%83%BD%E5%BE%97%E5%88%B0%E6%9C%80%E5%A4%A7%E5%80%BC%E7%9A%84%E5%AD%90%E9%9B%86%E6%95%B0%E7%9B%AE"><span class="toc-number">4.</span> <span class="toc-text">2044. 统计按位或能得到最大值的子集数目</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF-2"><span class="toc-number">4.1.</span> <span class="toc-text">思路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E5%BA%A6-2"><span class="toc-number">4.2.</span> <span class="toc-text">复杂度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%98%E5%8C%96-1"><span class="toc-number">4.3.</span> <span class="toc-text">优化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-2"><span class="toc-number">4.4.</span> <span class="toc-text">代码</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2411-%E6%8C%89%E4%BD%8D%E6%88%96%E6%9C%80%E5%A4%A7%E7%9A%84%E6%9C%80%E5%B0%8F%E5%AD%90%E6%95%B0%E7%BB%84%E9%95%BF%E5%BA%A6"><span class="toc-number">5.</span> <span class="toc-text">2411. 按位或最大的最小子数组长度</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF-3"><span class="toc-number">5.1.</span> <span class="toc-text">思路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E5%BA%A6-3"><span class="toc-number">5.2.</span> <span class="toc-text">复杂度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#todo-$o(n)$%E4%BC%98%E5%8C%96"><span class="toc-number">5.3.</span> <span class="toc-text">TODO $O(N)$优化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-3"><span class="toc-number">5.4.</span> <span class="toc-text">代码</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2419-%E6%8C%89%E4%BD%8D%E4%B8%8E%E6%9C%80%E5%A4%A7%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E6%95%B0%E7%BB%84"><span class="toc-number">6.</span> <span class="toc-text">2419. 按位与最大的最长子数组</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF-4"><span class="toc-number">6.1.</span> <span class="toc-text">思路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E5%BA%A6-4"><span class="toc-number">6.2.</span> <span class="toc-text">复杂度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%98%E5%8C%96-2"><span class="toc-number">6.3.</span> <span class="toc-text">优化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-4"><span class="toc-number">6.4.</span> <span class="toc-text">代码</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2683-%E7%9B%B8%E9%82%BB%E5%80%BC%E7%9A%84%E6%8C%89%E4%BD%8D%E5%BC%82%E6%88%96"><span class="toc-number">7.</span> <span class="toc-text">2683. 相邻值的按位异或</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF-5"><span class="toc-number">7.1.</span> <span class="toc-text">思路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E5%BA%A6-5"><span class="toc-number">7.2.</span> <span class="toc-text">复杂度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-5"><span class="toc-number">7.3.</span> <span class="toc-text">代码</span></a></li></ol></li></ol>
</div>

    <div class="e-content article-entry" itemprop="articleBody">
      
        <link rel="stylesheet" type="text&#x2F;css" href="https://cdn.jsdelivr.net/npm/hexo-tag-hint@0.3.1/dist/hexo-tag-hint.min.css"><p>Leetcode 20250725-20250731每日一题的记录<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>使用Java解题</p>
<span id="more"></span>
<h1 id="3487-删除后的最大子数组元素和">3487. 删除后的最大子数组元素和</h1>
<p>20250725<br>
<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/maximum-unique-subarray-sum-after-deletion/description/">题目链接</a></p>
<p>参考<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span>执行用时前排代码</p>
<h2 id="思路">思路</h2>
<p>将大于等于<code>0</code>的数字加入<code>HashSet</code><span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>同时统计小于<code>0</code>的数字的最大值</p>
<p>最终如果<code>HashSet</code>非空<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>求<code>HashSet</code>所有元素的和<span class="bd-box"><h-char class="bd bd-beg"><h-inner>；</h-inner></h-char></span>如果为空<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>返回小于<code>0</code>的数字的最大值</p>
<h2 id="复杂度">复杂度</h2>
<ul>
<li>时间复杂度<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span>遍历一遍数组+<code>HashSet</code><span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span><span class="markdown-them-math-inline">$O(N)$</span></li>
<li>空间复杂度<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span><code>HashSet</code><span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span><span class="markdown-them-math-inline">$O(N)$</span></li>
</ul>
<h2 id="其他">其他</h2>
<p>Java int最大值和最小值<br>
<code>int a = Integer.MAX_VALUE;</code>,<code>int b = Integer.MIN_VALUE;</code></p>
<h2 id="优化">优化</h2>
<p>题目数据范围<span class="markdown-them-math-inline">$-100\leq nunms[i] \leq100$</span><span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>用一个<code>boolean</code>数组储存当前数字是否出现过<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>遍历时更新状态</p>
<h2 id="代码">代码</h2>
<div class="highlight"><pre class="code"><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">maxSum</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] nums)</span> </span>&#123;
        Set&lt;Integer&gt; set = <span class="hljs-keyword">new</span> HashSet&lt;&gt;();
        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">int</span> t = Integer.MIN_VALUE;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i : nums) &#123;
            <span class="hljs-keyword">if</span> (i &gt;= <span class="hljs-number">0</span> &amp;&amp; !set.contains(i)) &#123;
                set.add(i);
                ans += i;
            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">0</span> &amp;&amp; i &gt; t) &#123;
                t = i;
            &#125;
        &#125;
        <span class="hljs-keyword">if</span> (set.isEmpty()) &#123;
            <span class="hljs-keyword">return</span> t;
        &#125; <span class="hljs-keyword">else</span> &#123;
            <span class="hljs-keyword">return</span> ans;
        &#125;
    &#125;
&#125;
</code></pre></div>
<p>优化后</p>
<div class="highlight"><pre class="code"><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">maxSum</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] nums)</span> </span>&#123;
        <span class="hljs-keyword">boolean</span>[] hasn = <span class="hljs-keyword">new</span> <span class="hljs-keyword">boolean</span>[<span class="hljs-number">102</span>];
        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">int</span> t = Integer.MIN_VALUE;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i : nums) &#123;
            <span class="hljs-keyword">if</span> (i &gt; <span class="hljs-number">0</span>) &#123;
                <span class="hljs-keyword">if</span> (!hasn[i]) &#123;
                    hasn[i] = <span class="hljs-keyword">true</span>;
                    ans += i;
                &#125;
            &#125; <span class="hljs-keyword">else</span> &#123;
                t = Math.max(t, i);
            &#125;
        &#125;
        <span class="hljs-keyword">if</span> (ans == <span class="hljs-number">0</span>) &#123;
            <span class="hljs-keyword">return</span> t;
        &#125;
        <span class="hljs-keyword">return</span> ans;
    &#125;
&#125;
</code></pre></div>
<hr>
<h1 id="3480-删除一个冲突对后最大子数组数目">3480. 删除一个冲突对后最大子数组数目</h1>
<p>20250726<br>
<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/maximize-subarrays-after-removing-one-conflicting-pair/description/">题目链接</a></p>
<h2 id="todo">TODO</h2>
<hr>
<h1 id="2210-统计数组中峰和谷的数量">2210. 统计数组中峰和谷的数量</h1>
<p>20250727<br>
<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/count-hills-and-valleys-in-an-array/description/">题目链接</a></p>
<p>参考<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/count-hills-and-valleys-in-an-array/solutions/1352602/by-endlesscheng-59gn">灵茶山艾府</a></p>
<h2 id="思路-1">思路</h2>
<p>用一个<code>l</code>数组存当前数字左边的不相等元素的下标<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>用一个<code>r</code>数组存当前数字右边不相等元素的下标<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span><code>l[0] = - 1</code><span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span><code>r[n - 1] = n</code></p>
<p>从下标<code>1</code>开始遍历数组<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>如果当前元素与前一个元素不同<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>并且满足当前元素大于<code>l[i]</code>下标和<code>r[i]</code>下标的元素或者小于<code>l[i]</code>下标和<code>r[i]</code>下标的元素<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>数量加<code>1</code></p>
<h2 id="复杂度-1">复杂度</h2>
<ul>
<li>时间复杂度<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span>遍历数组<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span><span class="markdown-them-math-inline">$O(N)$</span></li>
<li>空间复杂度<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span><code>l</code>和<code>r</code>数组<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span><span class="markdown-them-math-inline">$O(N)$</span></li>
</ul>
<h2 id="优化1">优化1</h2>
<p>将连续相同元素压缩为<code>1</code>个元素<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>在原数组内操作</p>
<p>遍历去重后的数组<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>如果当前元素同时大于左右或者同时小于左右相邻元素<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>则数量加<code>1</code></p>
<h2 id="优化2">优化2</h2>
<p>用<code>3</code>个指针分别表示左边最近不相等邻居<code>pre</code><span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>当前元素<code>cur</code>和右边最近不相等邻居<code>nxt</code></p>
<p>遍历时使<code>nxt</code>为<code>cur</code>后第<code>1</code>个元素<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>如果<code>nxt</code>与<code>cur</code>对应元素相等则<code>cur</code>向后遍历<span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span><br>
如果相等时<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>判断<code>cur</code>对应元素是否同时大于<span class="bd-box"><h-char class="bd bd-end"><h-inner>（</h-inner></h-char></span>小于<span class="bd-box"><h-char class="bd bd-beg"><h-inner>）</h-inner></h-char></span><code>pre</code>和<code>nxt</code>对应元素<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>如果满足则答案加<code>1</code><span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>更新<code>pre</code>为<code>cur</code></p>
<p>由于初始化时<code>pre</code>为<code>0</code><span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span><code>cur</code>为<code>1</code><span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>所以要判断<code>pre</code>是否与<code>cur</code>相等</p>
<h2 id="代码-1">代码</h2>
<div class="highlight"><pre class="code"><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">countHillValley</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] nums)</span> </span>&#123;
        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">int</span>[] l = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[nums.length];
        <span class="hljs-keyword">int</span>[] r = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[nums.length];
        l[<span class="hljs-number">0</span>] = -<span class="hljs-number">1</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; nums.length; i++) &#123;
            <span class="hljs-keyword">if</span> (nums[i] == nums[i - <span class="hljs-number">1</span>]) &#123;
                l[i] = l[i - <span class="hljs-number">1</span>];
            &#125; <span class="hljs-keyword">else</span> &#123;
                l[i] = i - <span class="hljs-number">1</span>;
            &#125;
        &#125;
        r[nums.length - <span class="hljs-number">1</span>] = nums.length;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = nums.length - <span class="hljs-number">2</span>; i &gt;= <span class="hljs-number">0</span>; i--) &#123;
            <span class="hljs-keyword">if</span> (nums[i] == nums[i + <span class="hljs-number">1</span>]) &#123;
                r[i] = r[i + <span class="hljs-number">1</span>];
            &#125; <span class="hljs-keyword">else</span> &#123;
                r[i] = i + <span class="hljs-number">1</span>;
            &#125;
        &#125;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; nums.length - <span class="hljs-number">1</span>; i++) &#123;
            <span class="hljs-keyword">if</span> (l[i] &gt;= <span class="hljs-number">0</span> &amp;&amp; r[i] &lt; nums.length) &#123;
                <span class="hljs-keyword">if</span> (nums[l[i]] &gt; nums[i] &amp;&amp; nums[r[i]] &gt; nums[i] &amp;&amp; nums[i] != nums[i - <span class="hljs-number">1</span>]) &#123;
                    ans++;
                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (nums[l[i]] &lt; nums[i] &amp;&amp; nums[r[i]] &lt; nums[i] &amp;&amp; nums[i] != nums[i - <span class="hljs-number">1</span>]) &#123;
                    ans++;
                &#125;
            &#125;
        &#125;
        <span class="hljs-keyword">return</span> ans;
    &#125;
&#125;
</code></pre></div>
<p>优化1</p>
<div class="highlight"><pre class="code"><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">countHillValley</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] nums)</span> </span>&#123;
        <span class="hljs-keyword">int</span> l = <span class="hljs-number">1</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; nums.length; i++) &#123;
            <span class="hljs-keyword">if</span> (nums[i] != nums[i - <span class="hljs-number">1</span>]) &#123;
                nums[l++] = nums[i];
            &#125;
        &#125;
        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; l - <span class="hljs-number">1</span>; i++) &#123;
            <span class="hljs-keyword">if</span> ((nums[i] &gt; nums[i - <span class="hljs-number">1</span>]) == (nums[i] &gt; nums[i + <span class="hljs-number">1</span>])) &#123;
                ans++;
            &#125;
        &#125;
        <span class="hljs-keyword">return</span> ans;
    &#125;
&#125;
</code></pre></div>
<p>优化2</p>
<div class="highlight"><pre class="code"><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">countHillValley</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] nums)</span> </span>&#123;
        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">int</span> pre = nums[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; nums.length - <span class="hljs-number">1</span>; i++) &#123;
            <span class="hljs-keyword">int</span> cur = nums[i];
            <span class="hljs-keyword">int</span> nxt = nums[i + <span class="hljs-number">1</span>];
            <span class="hljs-keyword">if</span> (cur == nxt) &#123;
                <span class="hljs-keyword">continue</span>;
            &#125;
            <span class="hljs-keyword">if</span> (!(pre == cur) &amp;&amp; (cur &gt; pre) == (cur &gt; nxt)) &#123;
                ans++;
            &#125;

            pre = cur;
        &#125;
        <span class="hljs-keyword">return</span> ans;
    &#125;
&#125;
</code></pre></div>
<hr>
<h1 id="2044-统计按位或能得到最大值的子集数目">2044. 统计按位或能得到最大值的子集数目</h1>
<p>20250728<br>
<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/count-number-of-maximum-bitwise-or-subsets/description/">题目链接</a></p>
<p>参考<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/count-number-of-maximum-bitwise-or-subsets/solutions/1335667/tong-ji-an-wei-huo-neng-de-dao-zui-da-zh-r6zd">官方题解</a></p>
<p>执行用时前排代码</p>
<h2 id="思路-2">思路</h2>
<p>整个数组所有元素按位或一定是最大值<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>先求出最大值</p>
<p>二进制压缩状态<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>如果当前子集所有元素按位或等于最大值<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>答案加<code>1</code></p>
<h2 id="复杂度-2">复杂度</h2>
<ul>
<li>时间复杂度<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span>全部子集<span class="markdown-them-math-inline">$2^{n}$</span>个<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>平均每个子集元素个数与<code>n</code>线性相关<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>整体复杂度<span class="markdown-them-math-inline">$O(2^{N} \times N)$</span></li>
<li>空间复杂度<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span><span class="markdown-them-math-inline">$O(1)$</span></li>
</ul>
<h2 id="优化-1">优化</h2>
<p>DFS<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>从下标为<code>0</code>开始递归<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>如果当前的值已经等于最大值<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>则答案加上<span class="markdown-them-math-inline">$2^{n - i}$</span>并返回<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>注意递归到数组最后一个元素返回<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>每一层递归选择是否将当前元素加入子集</p>
<p>优化后的时间复杂度为<span class="markdown-them-math-inline">$O(2^{n})$</span><span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>空间复杂度为<span class="markdown-them-math-inline">$O(N)$</span><span class="bd-box"><h-char class="bd bd-end"><h-inner>（</h-inner></h-char></span>搜索深度最多为<code>n</code><span class="bd-box"><h-char class="bd bd-beg"><h-inner>）</h-inner></h-char></span></p>
<h2 id="代码-2">代码</h2>
<div class="highlight"><pre class="code"><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">countMaxOrSubsets</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] nums)</span> </span>&#123;
        <span class="hljs-keyword">int</span> maxv = nums[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">int</span> cnt = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">int</span> n = nums.length;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; i++) &#123;
            maxv = maxv | nums[i];
        &#125;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; (<span class="hljs-number">1</span> &lt;&lt; n); i++) &#123;
            <span class="hljs-keyword">int</span> tem = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; n; j++) &#123;
                <span class="hljs-keyword">if</span> (((i &gt;&gt; j) &amp; <span class="hljs-number">1</span>) == <span class="hljs-number">1</span>) &#123;
                    tem = tem | nums[j];
                &#125;
            &#125;
            <span class="hljs-keyword">if</span> (tem == maxv) &#123;
                cnt++;
            &#125;
        &#125;
        <span class="hljs-keyword">return</span> cnt;
    &#125;
&#125;
</code></pre></div>
<p>优化后</p>
<div class="highlight"><pre class="code"><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;
    <span class="hljs-keyword">int</span> cnt;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">countMaxOrSubsets</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] nums)</span> </span>&#123;
        <span class="hljs-keyword">int</span> maxv = nums[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">int</span> n = nums.length;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; i++) &#123;
            maxv = maxv | nums[i];
        &#125;
        cnt = <span class="hljs-number">0</span>;
        dfs(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, maxv, nums);
        <span class="hljs-keyword">return</span> cnt;
    &#125;
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-keyword">int</span> i, <span class="hljs-keyword">int</span> sum, <span class="hljs-keyword">int</span> ma, <span class="hljs-keyword">int</span>[] nums)</span> </span>&#123;
        <span class="hljs-keyword">if</span> (sum == ma) &#123;
            cnt += <span class="hljs-number">1</span> &lt;&lt; (nums.length - i);
            <span class="hljs-keyword">return</span>;
        &#125;
        <span class="hljs-keyword">if</span> (i == nums.length) &#123;
            <span class="hljs-keyword">return</span>;
        &#125;
        dfs(i + <span class="hljs-number">1</span>, sum, ma, nums);
        dfs(i + <span class="hljs-number">1</span>, sum | nums[i], ma, nums);
    &#125;
&#125;
</code></pre></div>
<hr>
<h1 id="2411-按位或最大的最小子数组长度">2411. 按位或最大的最小子数组长度</h1>
<p>20250729<br>
<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/smallest-subarrays-with-maximum-bitwise-or/description/">题目链接</a></p>
<h2 id="思路-3">思路</h2>
<p>数字最大是<span class="markdown-them-math-inline">$10^{9}$</span><span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>不会大于<span class="markdown-them-math-inline">$(2^{10})^{3}=2^{30}$</span><span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>可以用一个长度为<code>31</code>的数组<code>bt</code>表示当前位的&quot;<code>1</code>&quot;的个数</p>
<p>从后向前遍历数组<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>当前元素对应<code>bt</code>数组中为<code>1</code>的位加<code>1</code><span class="bd-box"><h-char class="bd bd-beg"><h-inner>。</h-inner></h-char></span>滑动窗口<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>如果删除窗口结尾元素后<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span><code>bt</code>数组不存在某个元素归零<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>则可以删除当前元素<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>继续向前滑动窗口<span class="bd-box"><h-char class="bd bd-beg"><h-inner>；</h-inner></h-char></span>如果存在某个元素归零<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>则表示当前子数组按位或距离最大值缺了某一位<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>不可以向前滑动窗口</p>
<h2 id="复杂度-3">复杂度</h2>
<ul>
<li>时间复杂度<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span>对于每一个二进制数<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>统计它的每一位需要<span class="markdown-them-math-inline">$O(\log{C})$</span><span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span><code>C</code>为二进制数最大值<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>总体为<span class="markdown-them-math-inline">$O(N\log{C})$</span></li>
<li>空间复杂度<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span>不算返回值<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span><span class="markdown-them-math-inline">$O(\log{C})$</span></li>
</ul>
<h2 id="todo-$o(n)$优化">TODO <span class="markdown-them-math-inline">$O(N)$</span>优化</h2>
<h2 id="代码-3">代码</h2>
<div class="highlight"><pre class="code"><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span>[] smallestSubarrays(<span class="hljs-keyword">int</span>[] nums) &#123;
        <span class="hljs-keyword">int</span> n = nums.length;
        <span class="hljs-keyword">int</span>[] bt = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[<span class="hljs-number">31</span>];
        <span class="hljs-keyword">int</span>[] ans = <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[n];
        <span class="hljs-keyword">int</span> p = n - <span class="hljs-number">1</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = n - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span> ; i--) &#123;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>, t = nums[i]; t &gt; <span class="hljs-number">0</span>; j++, t = t &gt;&gt; <span class="hljs-number">1</span>) &#123;
                <span class="hljs-keyword">if</span> ((t &amp; <span class="hljs-number">1</span>) == <span class="hljs-number">1</span>) &#123;
                    bt[j]++;
                &#125;
            &#125;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j = p; j &gt; i; j--) &#123;
                <span class="hljs-keyword">boolean</span> flag = <span class="hljs-keyword">true</span>;
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>, t = nums[j]; t &gt; <span class="hljs-number">0</span>; k++, t = t &gt;&gt; <span class="hljs-number">1</span>) &#123;
                    <span class="hljs-keyword">if</span> ((t &amp; <span class="hljs-number">1</span>) == <span class="hljs-number">1</span>) &#123;
                        <span class="hljs-keyword">if</span> (bt[k] == <span class="hljs-number">1</span>) &#123;
                            flag = <span class="hljs-keyword">false</span>;
                            <span class="hljs-keyword">break</span>;
                        &#125;
                    &#125;
                &#125;
                <span class="hljs-keyword">if</span> (flag) &#123;
                    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> k = <span class="hljs-number">0</span>, t = nums[j]; t &gt; <span class="hljs-number">0</span>; k++, t = t &gt;&gt; <span class="hljs-number">1</span>) &#123;
                        <span class="hljs-keyword">if</span> ((t &amp; <span class="hljs-number">1</span>) == <span class="hljs-number">1</span>) &#123;
                            bt[k]--;
                        &#125;
                    &#125;
                    p--;
                &#125; <span class="hljs-keyword">else</span> &#123;
                    <span class="hljs-keyword">break</span>;
                &#125;
            &#125;
            ans[i] = p - i + <span class="hljs-number">1</span>;
        &#125;
        <span class="hljs-keyword">return</span> ans;
    &#125;
&#125;
</code></pre></div>
<hr>
<h1 id="2419-按位与最大的最长子数组">2419. 按位与最大的最长子数组</h1>
<p>20250730<br>
<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/longest-subarray-with-maximum-bitwise-and/description/">题目链接</a></p>
<p>参考<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span>执行用时前排代码</p>
<h2 id="思路-4">思路</h2>
<p>数组中的最大值与小于它的数取与必然减小<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>因此题目换句话说是求最大值连续最长长度</p>
<p>先求出最大值<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>然后统计与最大值相等的连续序列的长度<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>并求序列长度的最大值</p>
<h2 id="复杂度-4">复杂度</h2>
<ul>
<li>时间复杂度<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span>遍历数组<span class="markdown-them-math-inline">$O(N)$</span></li>
<li>空间复杂度<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span><span class="markdown-them-math-inline">$O(1)$</span></li>
</ul>
<h2 id="优化-2">优化</h2>
<p>一次遍历的方法</p>
<p>滑动窗口取元素相等的序列的左右端点<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>如果当前序列的元素大于最大值<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>则更新最大值和答案长度为当前窗口长度<span class="bd-box"><h-char class="bd bd-beg"><h-inner>；</h-inner></h-char></span>如果当前序列的元素等于最大值<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>则取当前序列长度与之前答案长度的最大值</p>
<h2 id="代码-4">代码</h2>
<div class="highlight"><pre class="code"><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">longestSubarray</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] nums)</span> </span>&#123;
        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">1</span>;
        <span class="hljs-keyword">int</span> n = nums.length;
        <span class="hljs-keyword">int</span> m = nums[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; i++) &#123;
            m = Math.max(m, nums[i]);
        &#125;
        <span class="hljs-keyword">int</span> tem = <span class="hljs-number">1</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">1</span>; i &lt; n; i++) &#123;
            <span class="hljs-keyword">if</span> (m == nums[i] &amp;&amp; m == nums[i - <span class="hljs-number">1</span>]) &#123;
                tem++;
            &#125; <span class="hljs-keyword">else</span> &#123;
                ans = Math.max(ans, tem);
                tem = <span class="hljs-number">1</span>;
            &#125;
        &#125;
        ans = Math.max(ans, tem);
        <span class="hljs-keyword">return</span> ans;
    &#125;
&#125;
</code></pre></div>
<p>优化后</p>
<div class="highlight"><pre class="code"><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">longestSubarray</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] nums)</span> </span>&#123;
        <span class="hljs-keyword">int</span> ans = <span class="hljs-number">1</span>;
        <span class="hljs-keyword">int</span> n = nums.length;
        <span class="hljs-keyword">int</span> m = nums[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>, j = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">int</span> tem = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">while</span> (i &lt; n) &#123;
            j = i;
            <span class="hljs-keyword">while</span> (j &lt; n &amp;&amp; nums[j] == nums[i]) &#123;
                j++;
            &#125;
            <span class="hljs-keyword">if</span> (nums[i] &gt; m) &#123;
                m = nums[i];
                ans = j - i;
            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (nums[i] == m) &#123;
                ans = Math.max(ans, j - i);
            &#125;
            i = j;
        &#125;
        <span class="hljs-keyword">return</span> ans;
    &#125;
&#125;
</code></pre></div>
<hr>
<h1 id="2683-相邻值的按位异或">2683. 相邻值的按位异或</h1>
<p>20250731<br>
<a target="_blank" rel="noopener" href="https://leetcode.cn/problems/neighboring-bitwise-xor/description/?envType=daily-question&amp;envId=2025-07-31">题目链接</a></p>
<h2 id="思路-5">思路</h2>
<ul>
<li>如果<span class="markdown-them-math-inline">$a \oplus b = c$</span><span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>则<span class="markdown-them-math-inline">$a \oplus c = b$</span></li>
</ul>
<p><span class="markdown-them-math-inline">$o[0] \oplus o[1] = d[0]$</span><span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>可以假设<code>o[0]</code>等于<code>d[0]</code><span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span>因此<span class="markdown-them-math-inline">$o[1] = o[0] \oplus d[0]$</span><span class="bd-box"><h-char class="bd bd-beg"><h-inner>、</h-inner></h-char></span><span class="markdown-them-math-inline">$o[2] = o[1] \oplus d[1]$</span><br>
…<span class="markdown-them-math-inline">$o[n - 1] = o[n - 2] \oplus d[n - 2]$</span><span class="bd-box"><h-char class="bd bd-beg"><h-inner>、</h-inner></h-char></span><span class="markdown-them-math-inline">$o[0](expected) = o[n - 1] \oplus d[n - 1]$</span></p>
<p>最后判断<code>o[0](expected)</code>与<code>o[0]</code>是否相等即可</p>
<h2 id="复杂度-5">复杂度</h2>
<ul>
<li>时间复杂度<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span>遍历数组<span class="bd-box"><h-char class="bd bd-beg"><h-inner>，</h-inner></h-char></span><span class="markdown-them-math-inline">$O(N)$</span></li>
<li>空间复杂度<span class="bd-box"><h-char class="bd bd-beg"><h-inner>：</h-inner></h-char></span><span class="markdown-them-math-inline">$O(1)$</span></li>
</ul>
<h2 id="代码-5">代码</h2>
<div class="highlight"><pre class="code"><code><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Solution</span> </span>&#123;
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">doesValidArrayExist</span><span class="hljs-params">(<span class="hljs-keyword">int</span>[] derived)</span> </span>&#123;
        <span class="hljs-keyword">int</span> a = derived[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; derived.length; i++) &#123;
            a = a ^ derived[i];
        &#125;
        <span class="hljs-keyword">return</span> a == derived[<span class="hljs-number">0</span>];
    &#125;
&#125;
</code></pre></div>
<hr>
<p>如有错误欢迎批评指正</p>

      
    </div>
    <footer class="article-footer">
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/leetcode/" rel="tag">leetcode</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2025/08/01/leetcode-daily-20250801-20250806/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Leetcode Daily 20250801-20250806
        
      </div>
    </a>
  
  
    <a href="/2025/07/24/leetcode-daily-20250718-20250724/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">
        
          Leetcode Daily 20250718-20250724
        
      </div>
    </a>
  
</nav>

  
</article>





  <section id="comments">
    <p>由于vercel.app域名被墙，可能无法查看和发送评论</p>
    <hr>
    <div id="waline"></div>
    <script type="module">
      import { init } from 'https://unpkg.com/@waline/client@v3/dist/waline.js';

      init({
        el: '#waline',
        serverURL: 'https://waline-comment-black.vercel.app',
        lang: 'zh-CN',
        pageview: true,
        emoji: [
          'https://unpkg.com/@waline/emojis@1.1.0/weibo',
          'https://unpkg.com/@waline/emojis@1.1.0/tieba'
        ]
      });
    </script>
  </section>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/08/01/leetcode-daily-20250801-20250806/">Leetcode Daily 20250801-20250806</a>
          </li>
        
          <li>
            <a href="/2025/07/30/leetcode-daily-20250725-20250731/">Leetcode Daily 20250725-20250731</a>
          </li>
        
          <li>
            <a href="/2025/07/24/leetcode-daily-20250718-20250724/">Leetcode Daily 20250718-20250724</a>
          </li>
        
          <li>
            <a href="/2025/06/11/comment-test/">comment test</a>
          </li>
        
          <li>
            <a href="/2025/06/10/password-test/">password test</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/leetcode/" style="font-size: 10px;">leetcode</a>
    </div>
  </div>

  
    
<div id="float-toc">
    <h2 class="widget-title">目录</h2>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#3487-%E5%88%A0%E9%99%A4%E5%90%8E%E7%9A%84%E6%9C%80%E5%A4%A7%E5%AD%90%E6%95%B0%E7%BB%84%E5%85%83%E7%B4%A0%E5%92%8C"><span class="toc-number">1.</span> <span class="toc-text">3487. 删除后的最大子数组元素和</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF"><span class="toc-number">1.1.</span> <span class="toc-text">思路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E5%BA%A6"><span class="toc-number">1.2.</span> <span class="toc-text">复杂度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-number">1.3.</span> <span class="toc-text">其他</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%98%E5%8C%96"><span class="toc-number">1.4.</span> <span class="toc-text">优化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81"><span class="toc-number">1.5.</span> <span class="toc-text">代码</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3480-%E5%88%A0%E9%99%A4%E4%B8%80%E4%B8%AA%E5%86%B2%E7%AA%81%E5%AF%B9%E5%90%8E%E6%9C%80%E5%A4%A7%E5%AD%90%E6%95%B0%E7%BB%84%E6%95%B0%E7%9B%AE"><span class="toc-number">2.</span> <span class="toc-text">3480. 删除一个冲突对后最大子数组数目</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#todo"><span class="toc-number">2.1.</span> <span class="toc-text">TODO</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2210-%E7%BB%9F%E8%AE%A1%E6%95%B0%E7%BB%84%E4%B8%AD%E5%B3%B0%E5%92%8C%E8%B0%B7%E7%9A%84%E6%95%B0%E9%87%8F"><span class="toc-number">3.</span> <span class="toc-text">2210. 统计数组中峰和谷的数量</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF-1"><span class="toc-number">3.1.</span> <span class="toc-text">思路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E5%BA%A6-1"><span class="toc-number">3.2.</span> <span class="toc-text">复杂度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%98%E5%8C%961"><span class="toc-number">3.3.</span> <span class="toc-text">优化1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%98%E5%8C%962"><span class="toc-number">3.4.</span> <span class="toc-text">优化2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-1"><span class="toc-number">3.5.</span> <span class="toc-text">代码</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2044-%E7%BB%9F%E8%AE%A1%E6%8C%89%E4%BD%8D%E6%88%96%E8%83%BD%E5%BE%97%E5%88%B0%E6%9C%80%E5%A4%A7%E5%80%BC%E7%9A%84%E5%AD%90%E9%9B%86%E6%95%B0%E7%9B%AE"><span class="toc-number">4.</span> <span class="toc-text">2044. 统计按位或能得到最大值的子集数目</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF-2"><span class="toc-number">4.1.</span> <span class="toc-text">思路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E5%BA%A6-2"><span class="toc-number">4.2.</span> <span class="toc-text">复杂度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%98%E5%8C%96-1"><span class="toc-number">4.3.</span> <span class="toc-text">优化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-2"><span class="toc-number">4.4.</span> <span class="toc-text">代码</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2411-%E6%8C%89%E4%BD%8D%E6%88%96%E6%9C%80%E5%A4%A7%E7%9A%84%E6%9C%80%E5%B0%8F%E5%AD%90%E6%95%B0%E7%BB%84%E9%95%BF%E5%BA%A6"><span class="toc-number">5.</span> <span class="toc-text">2411. 按位或最大的最小子数组长度</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF-3"><span class="toc-number">5.1.</span> <span class="toc-text">思路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E5%BA%A6-3"><span class="toc-number">5.2.</span> <span class="toc-text">复杂度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#todo-$o(n)$%E4%BC%98%E5%8C%96"><span class="toc-number">5.3.</span> <span class="toc-text">TODO $O(N)$优化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-3"><span class="toc-number">5.4.</span> <span class="toc-text">代码</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2419-%E6%8C%89%E4%BD%8D%E4%B8%8E%E6%9C%80%E5%A4%A7%E7%9A%84%E6%9C%80%E9%95%BF%E5%AD%90%E6%95%B0%E7%BB%84"><span class="toc-number">6.</span> <span class="toc-text">2419. 按位与最大的最长子数组</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF-4"><span class="toc-number">6.1.</span> <span class="toc-text">思路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E5%BA%A6-4"><span class="toc-number">6.2.</span> <span class="toc-text">复杂度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BC%98%E5%8C%96-2"><span class="toc-number">6.3.</span> <span class="toc-text">优化</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-4"><span class="toc-number">6.4.</span> <span class="toc-text">代码</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2683-%E7%9B%B8%E9%82%BB%E5%80%BC%E7%9A%84%E6%8C%89%E4%BD%8D%E5%BC%82%E6%88%96"><span class="toc-number">7.</span> <span class="toc-text">2683. 相邻值的按位异或</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%9D%E8%B7%AF-5"><span class="toc-number">7.1.</span> <span class="toc-text">思路</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%8D%E6%9D%82%E5%BA%A6-5"><span class="toc-number">7.2.</span> <span class="toc-text">复杂度</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81-5"><span class="toc-number">7.3.</span> <span class="toc-text">代码</span></a></li></ol></li></ol>
</div>
<script src="/js/float-toc.js"></script>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 Dave233<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a><br>
      
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/newmenu" class="mobile-nav-link">NewMenu</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    

<script src="/js/clipboard.min.js"></script>
<script src="/js/jquery-1.4.3.min.js"></script>

<script src="/fancybox/jquery.fancybox-1.3.4.pack.js"></script>




<script src="/js/script.js"></script>








  <script src='https://unpkg.com/mermaid@11.12.1/dist/mermaid.min.js'></script>
  <script>
    if (window.mermaid) {
      mermaid.initialize({theme: 'forest'});
    }
  </script>



  </div>
  <div class="modal fade" id="searchModal">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <i class="fa fa-search" aria-hidden="true"></i> 搜索
                <input type="text" class="form-control" id="searchInput" placeholder="Keyword">
                <div class="search-content" id="searchResult"></div>
            </div>
        </div>
    </div>
</div>

<!-- hexo injector body_end start --><script src="/js/hexo-tag-common.js"></script><!-- hexo injector body_end end --></body>
</html>